/**********************************************************************************************************************
File: lcd_control.c
Description: Module that controls what is displayed on the LCD screen.
Author: Ivan Chow
Date: February 15, 2018
------------------------------------------------------------------------------------------------------------------------
API:

Public functions:
  - void LcdControlInitialize(void)
      Runs required initialzation for the task. Should only be called once in main init section.

  - void LcdControlRunActiveState(void)
      Runs current task state. Should only be called once in main loop.
**********************************************************************************************************************/

#include "configuration.h"

/***********************************************************************************************************************
Constants / Definitions
***********************************************************************************************************************/

/***********************************************************************************************************************
Existing variables (defined in other files -- should all contain the "extern" keyword)
***********************************************************************************************************************/
extern volatile u32 G_u32SystemTime1ms;         /* From board-specific source file */
extern volatile u32 G_u32SystemTime1s;          /* From board-specific source file */

/**********************************************************************************************************************
Type Definitions
**********************************************************************************************************************/

/***********************************************************************************************************************
Global variable definitions with scope limited to this local application.
***********************************************************************************************************************/
static fnCode_type LcdControl_StateMachine;     /* The state machine function pointer */

/***********************************************************************************************************************
Local functions
***********************************************************************************************************************/

/***********************************************************************************************************************
State Machine Declarations
***********************************************************************************************************************/
static void LcdControlSM_Idle(void);
static void LcdControlSM_Error(void);

/**********************************************************************************************************************
Function Definitions
**********************************************************************************************************************/

/*--------------------------------------------------------------------------------------------------------------------*/
/* Public functions                                                                                                   */
/*--------------------------------------------------------------------------------------------------------------------*/

/*--------------------------------------------------------------------------------------------------------------------
Function: LcdControlInitialize

Description:
  Initializes the State Machine and its variables.
*/
void LcdControlInitialize(void)
{
  LcdControl_StateMachine = LcdControlSM_Idle;
}
    

/*----------------------------------------------------------------------------------------------------------------------
Function: LcdControlRunActiveState

Description:
  Selects and runs one iteration of the current state in the state machine.
  All state machines have a TOTAL of 1ms to execute, so on average n state machines
  may take 1ms / n to execute.
*/
void LcdControlRunActiveState(void)
{
  LcdControl_StateMachine();
}

/*--------------------------------------------------------------------------------------------------------------------*/
/* Private functions                                                                                                  */
/*--------------------------------------------------------------------------------------------------------------------*/

/**********************************************************************************************************************
State Machine Function Definitions
**********************************************************************************************************************/

/*-------------------------------------------------------------------------------------------------------------------*/
/* Wait for ??? */
static void LcdControlSM_Idle(void)
{
}

/*-------------------------------------------------------------------------------------------------------------------*/
/* Handles an error */
static void LcdControlSM_Error(void)
{
}